<div class="p-8">
  <h1 class="text-4xl font-extrabold text-sky-500 tracking-tight mb-6">User Data</h1>

  @if (userList().length > 0) {
    <div class="overflow-hidden border border-gray-200 rounded-lg shadow-sm">
      <table class="min-w-full divide-y divide-gray-200 bg-white">
        <!-- HEADER: Stays outside the loop -->
        <thead class="bg-gray-50">
          <tr>
            <th
              class="px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider"
            >
              ID
            </th>
            <th
              class="px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider"
            >
              Name
            </th>
            <th
              class="px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider"
            >
              Email
            </th>
          </tr>
        </thead>

        <!-- BODY: Loop inside here to create rows -->
        <tbody class="divide-y divide-gray-200">
          @for (user of userList(); track user.id) {
            <tr class="hover:bg-gray-50 transition-colors">
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium">
                {{ user.id }}
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">{{ user.name }}</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{ user.email }}</td>
              <td>
                <button class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">
                  Edit
                </button>
              </td>
              <td>
                <button
                  class="px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600"
                  (click)="deleteItem(user.id)"
                >
                  Delete
                </button>
              </td>
            </tr>
          }
        </tbody>
      </table>
    </div>
  } @else {
    <p class="text-gray-500 animate-pulse">Fetching user records...</p>
  }
</div>
